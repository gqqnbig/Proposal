\documentclass[xcolor=svgnames]{beamer}
\setbeamertemplate{footline}[frame number]
\setbeamertemplate{navigation symbols}{}
\setbeamertemplate{itemize subitem}[ball]


\usepackage{amssymb}

\usepackage{makecell}

\usepackage{tikz}
\usetikzlibrary{arrows,shapes,positioning,calc,fadings, shapes.geometric}

\usepackage{listings}
\lstset{
	%  %行号
	%  %numbers=left,
	%  %背景框
	%  %framexleftmargin=10mm,
	%  %frame=none,
	%  %背景色
	%  %backgroundcolor=\color[rgb]{1,1,0.76},
	%  %样式
	keywordstyle=\color{blue}\bfseries,
	%  identifierstyle=\bf,
	%  numberstyle=\color[RGB]{0,192,192}, %行号的样式
	commentstyle=\it\color[RGB]{0,96,96},
	stringstyle=\rmfamily\slshape\color[RGB]{128,0,0},
	%  %显示空格
	%  %showstringspaces=false,
	basicstyle=\ttfamily\scriptsize,
	columns=flexible, %修正大写字母间距过小
	breaklines=true, %对过长的代码自动换行
	%  morekeywords={BEGIN}
}

\definecolor{diffstart}{named}{Grey}
\definecolor{diffincl}{rgb}{0, 0.35, 0}
\definecolor{diffrem}{rgb}{0.72, 0, 0}
\lstdefinelanguage{diff}{
	%basicstyle=\ttfamily\small,
	morecomment=[f][\color{diffstart}]{@@},
	morecomment=[f][\color{diffincl}]{+\ },
	morecomment=[f][\color{diffrem}]{-\ },
}


\usepackage[group-separator={,},group-minimum-digits={3}]{siunitx}

\usepackage{multirow}
\usepackage{pgfplots}
\usepackage{contour}
\usepackage{caption}
\usepackage{subcaption}
\usepackage{graphicx}

\newcommand{\code}[1]{\texttt{#1}}

\tikzstyle{every picture}+=[remember picture]

\tikzstyle target=[baseline, inner sep=0pt, remember picture]

\title{Identification of Functional Implementation in Conventional Applications and Transformation to Smart Contracts}
\author{Qiqi Gu\\P0907870}
\institute{%
\tikz[style=target]{\node [anchor=base, baseline, inner sep=0pt, align=center] (mpi text)
	{School of Applied Sciences \\ Macao Polytechnic Institute, Macao SAR, China};
}%
}
\date{March 2, 2022}

\parskip=20pt

\begin{document}
\newcommand{\etal}[1]{#1~{\it et al.}}


\tikzstyle{process} = [rectangle, draw=black, inner sep=0.1cm, text centered, align=center]
\tikzstyle{arrow} = [thick, ->, >=stealth]

{
\usebackgroundtemplate{\includegraphics[height=\paperheight]{background.jpg}}%

\begin{frame}[plain]
	\maketitle

	\begin{tikzpicture}[overlay]
	\node[inner sep=0pt, left=0.2cm of mpi text]{\includegraphics[width=1.2cm]{mpi-logo.png}};
	\end{tikzpicture}
\end{frame}
}

\begin{frame}{Outline}
	\tableofcontents
\end{frame}

\section{Introduction}
\begin{frame}{Smart Contracts}
\begin{itemize}
\item A smart contract is a program running on a blockchain platform.
\item Using smart contracts has many advantages, e.g., reduce the need of trust, reduce enforcement costs.
\item Businesses often use smart contracts as a signed contract or an agreement to regulate the stakeholders~\cite{savelyev2017contract}.
\item<2-> It is difficult to implement smart contracts correctly from the scratch~\cite{dao2019challenges}.
\end{itemize}
\end{frame}

\begin{frame}{Using Smart Contracts}

\begin{itemize}
\item Businesses already use conventional software to help deal with their business logic.
\item Some of these software are open source and hosted online.
\item We believe it is ideal to transform these applications into smart contracts.
\end{itemize}

\end{frame}

\begin{frame}[t]{Transformation}
\tikzstyle{process} = [rectangle, draw=black, inner sep=0.1cm, text centered, align=center]
\tikzstyle{arrow} = [thick, ->, >=stealth]

\begin{figure}
\centering

\begin{tikzpicture}[remember picture]
\onslide<1,2>{
\node (req) [process] {Requirement Documents};
\node (sc1) [process, below=of req] {Smart Contract};
\draw [arrow] (req) -- (sc1);
}

\onslide<1,3>{
\node (impl) [process, right=of req, xshift=1.5cm] {Source Code};
\node (sc2) [process, below=of impl] {Smart Contract};
\draw [arrow] (impl) -- (sc2);
}
\end{tikzpicture}
\end{figure}

\only<2>{
{\color{Green} \checkmark} Requirement documents capture raw information.

{\color{red} \texttimes} Open source projects typically do not publish such documents.
}

\only<3>{
{\color{Green} \checkmark} Application source code are widely available.

{\color{red} \texttimes} The code may contain too many details and noises.
}

\end{frame}


\begin{frame}{Identification and Transformation}

\begin{enumerate}
\item Identify which conventional applications are transformable

\item Implement algorithms to transform these applications to smart contracts
\end{enumerate}
\end{frame}


\section{Background}
\begin{frame}[t]{Blockchain Platforms}
\includegraphics[width=0.9\linewidth]{bitcoin-price}

Market cap of BitCoin reached \$780 billion in January 2022.

The Taproot upgrade took place in November 2021 enabled Bitcoin to execute smart contracts in the core layer.
\end{frame}

\begin{frame}[t]{Blockchain Platforms}
\includegraphics[width=0.9\linewidth]{ethereum-price}

Ethereum is the second largest blockchain platform with market cap of \$360 billion.

It has more mature support of smart contract.
\end{frame}


\begin{frame}{Permissioning of Blockchain Platforms}

\begin{table}
\small
%\setlength\tabcolsep{10pt}
\renewcommand*{\arraystretch}{2}
\begin{tabular}{ll}
Permissionless                                                              & Permissioned                                                \\ \hline
\makecell[l]{Everyone can view the transaction data, \\make transactions, or send queries.} & \makecell[l]{A central authority determines \\who can join the blockchain.} \\
Bitcoin, Ethereum                                                           & \onslide<2->{Hyperledger Fabric}                                          \\
\end{tabular}
\end{table}

\end{frame}

\begin{frame}
\frametitle{
\includegraphics[height=1cm]{hyperledgerfoundation_horizontal-dark.png}
\qquad
\onslide<2->{\includegraphics[height=1.1cm]{Hyperledger_Fabric_Logo.png}}
}

\begin{itemize}
\item Hyperledger is an umbrella project of open source blockchains and related tools.
\begin{itemize}
\item started in December 2015 by the Linux Foundation
\item gets consistent contributions from IBM, Intel, and so on.
\end{itemize}

\item<2-> In Hyperledger, Fabric is the most developed platform.
\begin{itemize}
\item run smart contracts developed in Java, JavaScript, or NodeJS language
\item preferred by businesses
\end{itemize}
\end{itemize}
\end{frame}


\begin{frame}[t]{Smart Contracts vs.\ DApp}

\begin{itemize}
\item DApp is short for decentralized application.
\begin{onlyenv}<1>
\begin{enumerate}
\item open source. There is no entity controlling the application. Its data are stored in a public blockchain.
\item has tokens to reward user participation. Users spend tokens to interact with the application.
\item be changed in response to consensus of its users~\cite{johnston2014general}
\end{enumerate}
\end{onlyenv}

\item<2-> Development of DApp

\begin{onlyenv}<2>
\begin{figure}
\centering
\begin{tikzpicture}[node distance=0.5cm and 1cm]
\node (whitepaper) [process] {release whitepaper};
\node (program) [process, below=of whitepaper] {release reference program \\for mining or interaction};
\node (mine) [process, below=of program] {mine or stake};
\node (proposals) [process, below=of mine] {write improvement proposals};


\node (whitepaper-icon) [left=of whitepaper] {\includegraphics[width=0.5cm]{unknown-person.png}};

\node (program-icon) [opacity=0.9] at (whitepaper-icon |- program) {\includegraphics[width=0.5cm]{unknown-person.png}};
\node                [opacity=0.1] at (whitepaper-icon |- program) {\includegraphics[width=0.5cm]{worldwide.png}};

\node (mine-icon) [opacity=0.7] at (program-icon |- mine) {\includegraphics[width=0.5cm]{unknown-person.png}};
\node             [opacity=0.7] at (program-icon |- mine) {\includegraphics[width=0.5cm]{worldwide.png}};

\node (proposals-icon) at (mine-icon |- proposals) {\includegraphics[width=0.5cm]{worldwide.png}};

\draw [arrow] (whitepaper) -- (program);
\draw [arrow] (program) -- (mine);
\draw [arrow] (mine) -- (proposals);

\node (centralized) [right=of whitepaper.north east, anchor=south west, xshift=-0.5cm] {\color{DarkViolet} centralized};
\node (decentralized) [anchor=north] at (centralized |- proposals.south) {\color{DeepSkyBlue} decentralized};
\path[shade, top color=DarkViolet, bottom color=DeepSkyBlue] ([xshift=-0.1cm]centralized.south) rectangle ([xshift=0.1cm]decentralized.north);
\end{tikzpicture}
\end{figure}
\end{onlyenv}

\item<3-> A DApp can be a protocol or a group of smart contracts.
\item<4-> In this project we mainly grapple one or a couple of smart contracts, and we do not zero in the decentralization part.
\end{itemize}

\end{frame}


\begin{frame}[t]{RM2PT}
\etal{Yang}~\cite{yang2019automated} proposed a tool, RM2PT, to transform a requirement document into a Java desktop program.
\onslide*<2>{
\includegraphics[width=0.7\linewidth]{RM2PT-generate}
}
\onslide*<3>{
\includegraphics[width=0.5\linewidth]{rm2pt-folder-structure.png}
}
\onslide*<4>{
\includegraphics[width=\linewidth]{cocome-javafx.png}
}

\onslide<5>{
We contemplate to improve RM2PT so that it can generate smart contracts.
}

\end{frame}




\begin{frame}[t,allowframebreaks]{References}
	\bibliographystyle{ieeetr}
	\bibliography{bibliography/bibliography.bib,bibliography/renaming.bib}
\end{frame}

%
%{
%	\usebackgroundtemplate{\includegraphics[height=\paperheight]{fixie.jpg}}%
%	\contourlength{.06em}
%	\begin{frame}
%	\onslide<2->
%	\begin{tikzpicture}[overlay]
%	\node[yshift=1cm] at (current page.center) {\contour{white}{\Huge Thank you!}};
%	\end{tikzpicture}
%	\end{frame}
%}

\end{document}
